!function(t,i){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports=i:"function"==typeof define?define(i):window[t]=i()}("Slide",function(){var t=function(t){this.wrap=t.wrap,this.type=t.type||"X",this.onSlideEnd=t.onSlideEnd||function(){},this.curIndex=0,this.pageX,this.pageY,this.height,this.width,this.flag,this.move,this._resize()._init()._bindEvents()};return t.prototype={constructor:t,_init:function(t){var i=t?this.wrap.children[t]:this.wrap.firstElementChild;if(!i)throw"ERROR";i.classList.add("moving"),i.style.webkitTransform="translate3d(0, 0, 0)";for(var t=1,e=this.wrap.children.length;t<e;t++)this["_set"+this.type](this.wrap.children[t],"X"===this.type?this.width:this.height);return setTimeout(function(){i.classList.remove("moving"),i.classList.add("play")},300),this},_resize:function(){var t=this.wrap.parentNode;return this.width=t.clientWidth,this.height=t.clientHeight,this},_bindEvents:function(){var t=this;window.addEventListener("resize orientationchange",this._resize.bind(this),!1),document.addEventListener("touchmove",function(t){t.preventDefault()}),"touchstart touchmove touchend touchcancel".split(" ").forEach(function(i){t.wrap.addEventListener(i,t["_"+i].bind(t),!1)})},_touchstart:function(t){var i=t.touches[0];this.flag=null,this.move=0,this.pageX=i.pageX,this.pageY=i.pageY},_touchmove:function(t){var i=t.touches[0],e=i.pageX-this.pageX,s=i.pageY-this.pageY,n=this.getCurrent(),h=n.nextElementSibling,r=n.previousElementSibling;if(this.flag||(this.flag=Math.abs(e)>Math.abs(s)?"X":"Y"),this.flag===this.type)switch(t.preventDefault(),t.stopPropagation(),n.classList.add("moving"),h&&h.classList.add("moving"),r&&r.classList.add("moving"),this.type){case"X":this.move=e,this._setX(n,e),h&&this._setX(h,e+this.width),r&&this._setX(r,e-this.width);break;case"Y":this.move=s,this._setY(n,s),h&&this._setY(h,s+this.height),r&&this._setY(r,s-this.height)}},_touchend:function(t){var i=50,e=this.move,s=this.getCurrent(),n=s.nextElementSibling,h=s.previousElementSibling;s.classList.remove("moving"),n&&n.classList.remove("moving"),h&&h.classList.remove("moving"),this.flag&&(t.preventDefault(),e<-i&&n&&this._next(),e>i&&h&&this._prev(),this._reset())},_touchcancel:function(t){var i=this.getCurrent(),e=i.nextElementSibling,s=i.previousElementSibling;current.classList.remove("moving"),e&&e.classList.remove("moving"),s&&s.classList.remove("moving"),this._reset()},_setX:function(t,i){t&&(t.style.webkitTransform="translate3d("+i+"px,0,0)")},_setY:function(t,i){t&&(t.style.webkitTransform="translate3d(0,"+i+"px,0)")},_setCurrent:function(t,i){t&&(t.style.webkitTransform="translate3d(0,0,0)"),i&&(this.curIndex=i,this.curEle=this.wrap.children[i])},_reset:function(){var t=this.width,i=this.height,e=this.type,s=this.getCurrent(),n=s.nextElementSibling,h=s.previousElementSibling;this._setCurrent(s),h&&this["_set"+e](h,-("X"===e?t:i)),n&&this["_set"+e](n,"X"===e?t:i)},_next:function(){this.go(this.curIndex+1)},_prev:function(){this.go(this.curIndex-1)},_finish:function(t,i){this.flag=null,setTimeout(function(){t&&t.classList.remove("play"),i&&i.classList.add("play")},300)},go:function(t){var i=this.onSlideEnd,e=this.getCurrent(),s=this.wrap.childElementCount,n=this.wrap.children[t],h=t<this.curIndex?-1:1;t===this.curIndex||t<0||t>=s||(i&&"function"==typeof i&&i.call(this,t),this.curIndex=t,this["_set"+this.type](e,-h*("X"===this.type?this.width:this.height)),this._setCurrent(n,t),this._finish(e,n))},getCurrent:function(){return this.wrap.children[this.curIndex]}},t});